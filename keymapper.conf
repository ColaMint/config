[system="Linux" class="org.wezfurlong.wezterm"]
Meta >> Meta 
Meta{ArrowLeft}  >> Meta{ArrowLeft} 
Meta{ArrowDown}  >> Meta{ArrowDown} 
Meta{ArrowUp}    >> Meta{ArrowUp}   
Meta{ArrowRight} >> Meta{ArrowRight}

[system="Linux" class="google-chrome"]
Meta{W} >> Control{W}

[system="Linux" class="wechat.exe"]
Escape >> Backspace 

[default]
# like macos
Meta{C} >> Control{C}
Meta{V} >> Control{V}
Meta{A} >> Control{A}
Meta{F} >> Control{F}
Meta{Z} >> Control{Z}

# browser 
Meta{B} >> $(google-chrome-stable) ^

# terminal 
Meta{Enter} >> $(wezterm) ^

# launcher
Meta{Space} >> $(~/.config/rofi/scripts/launcher_t3) ^

# OCR
Meta{O} >> $(normcap) ^

# screenshot
(Control Meta){A} >> $(flameshot gui -c -p ~/Pictures/Screenshots) ^

# volume
AudioVolumeUp >> $(pactl set-sink-volume @DEFAULT_SINK@ +2%) ^
AudioVolumeDown >> $(pactl set-sink-volume @DEFAULT_SINK@ -2%) ^
AudioVolumeMute >> $(pactl set-sink-mute @DEFAULT_SINK@ toggle) ^

# playerctl 
MediaPlayPause     >> $(playerctl play-pause) ^
MediaTrackPrevious >> $(playerctl next) ^
MediaTrackNext     >> $(playerctl previous) ^


# bspmw
## restart bspwm 
(AltLeft Meta){R} >> $(bspc wm -r) ^
## quit bspwm 
(AltLeft Meta){Q} >> $(bspc quit) ^
## close window
Meta{Q} >> $(bspc node -c) ^
## kill window
(Meta Shift){Q} >> $(bspc node -k) ^
## alternate between the tiled and monocle layout
(Meta Shift){M} >> $(bspc desktop -l next) ^
## swap the current node and the biggest window
(Meta Shift){G} >> $(bspc node -s biggest.window) ^
## make window tiled
(Meta Shift){T} >> $(bspc node -t tiled) ^
## make window pseudo tiled
(Meta Shift){P} >> $(bspc node -t pseudo_tiled) ^
## make window floating 
(Meta Shift){S} >> $(bspc node -t floating) ^
## make window fullscreen 
(Meta Shift){F} >> $(bspc node -t fullscreen) ^
## make window marked 
(AltLeft Shift){M} >> $(bspc node -g marked) ^
## make window locked 
(AltLeft Shift){X} >> $(bspc node -g locked) ^
## make window sticky 
(AltLeft Shift){Y} >> $(bspc node -g sticky) ^
## make window private 
(AltLeft Shift){Z} >> $(bspc node -g private) ^
## focus the node in the given direction
!Shift !AltLeft Meta{H} >> $(bspc node -f west) ^
!Shift !AltLeft Meta{J} >> $(bspc node -f south) ^
!Shift !AltLeft Meta{K} >> $(bspc node -f north) ^
!Shift !AltLeft Meta{L} >> $(bspc node -f east) ^
## move the node to the given direction
!AltLeft (Meta Shift){H} >> $(bspc node -s west) ^
!AltLeft (Meta Shift){J} >> $(bspc node -s south) ^
!AltLeft (Meta Shift){K} >> $(bspc node -s north) ^
!AltLeft (Meta Shift){L} >> $(bspc node -s east) ^
# focus the last desktop
Meta{Tab} >> $(bspc desktop -f last) ^
# focus the given desktop
Meta{1} >> $(bspc desktop -f '^1') ^
Meta{2} >> $(bspc desktop -f '^2') ^
Meta{3} >> $(bspc desktop -f '^3') ^
Meta{4} >> $(bspc desktop -f '^4') ^
Meta{5} >> $(bspc desktop -f '^5') ^
Meta{6} >> $(bspc desktop -f '^6') ^
Meta{7} >> $(bspc desktop -f '^7') ^
Meta{8} >> $(bspc desktop -f '^8') ^
Meta{9} >> $(bspc desktop -f '^9') ^
Meta{0} >> $(bspc desktop -f '^10') ^
# send to the given desktop
(Meta Shift){1} >> $(bspc node -d '^1') ^
(Meta Shift){2} >> $(bspc node -d '^2') ^
(Meta Shift){3} >> $(bspc node -d '^3') ^
(Meta Shift){4} >> $(bspc node -d '^4') ^
(Meta Shift){5} >> $(bspc node -d '^5') ^
(Meta Shift){6} >> $(bspc node -d '^6') ^
(Meta Shift){7} >> $(bspc node -d '^7') ^
(Meta Shift){8} >> $(bspc node -d '^8') ^
(Meta Shift){9} >> $(bspc node -d '^9') ^
(Meta Shift){0} >> $(bspc node -d '^10') ^
# expand a window by moving one of its side outward
!Shift (AltLeft Meta){H} >> $(bspc node -z left -20 0})
!Shift (AltLeft Meta){J} >> $(bspc node -z bottom 0 20})
!Shift (AltLeft Meta){K} >> $(bspc node -z top 0 -20})
!Shift (AltLeft Meta){L} >> $(bspc node -z right 20 0})
# contract a window by moving one of its side inward
(AltLeft Meta Shift){H} >> $(bspc node -z right -20 0})
(AltLeft Meta Shift){J} >> $(bspc node -z top 0 20})
(AltLeft Meta Shift){K} >> $(bspc node -z bottom 0 -20})
(AltLeft Meta Shift){L} >> $(bspc node -z left 20 0})
# move a floating window
Meta{ArrowLeft}  >> $(bspc node -v -20   0)
Meta{ArrowDown}  >> $(bspc node -v   0  20)
Meta{ArrowUp}    >> $(bspc node -v   0 -20)
Meta{ArrowRight} >> $(bspc node -v  20   0)
